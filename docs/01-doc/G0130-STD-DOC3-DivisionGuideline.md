---

schema: "[https://schema.org/CreativeWork](https://schema.org/CreativeWork)"
"@type": "CreativeWork"
identifier: "G0130-STD-DOC3-DivisionGuideline"
name: "分冊（Volume）方式・汎用ファイル名規則（末尾番号方式）"
description: "DocFoundary における大規模 Markdown 文書の分冊方式と末尾番号方式のファイル名規則を定義する。"
version: "v1.0.0"
datePublished: "2025-11-13"
inLanguage:

* "ja"
  creator:
* "@type": "Person"
  name: "Individual Developer"

---

# 分冊（Volume）方式・汎用ファイル名規則（末尾番号方式）

本書は DocFoundary における **大規模 Markdown 文書の分冊（Volume）方式** のうち、従来方式（文書コード直後に番号を置く）をアップデートし、**末尾番号方式（Title の直後に Vol 番号を付与する方式）** を正式案として定義する。

単一ファイル文書との整合性、直感的な可読性、シリーズ構造の明示性に優れ、将来の拡張性も高い方式である。

---

## 1. 基本原則（Core Principles）

### ★ Front Matter に関する原則（明確化 / MUST）

* **すべての分冊ファイル（00および Vol01〜VolNN）は CreativeWork 9キーの Front Matter を持たなければならない（MUST）。**

* **各分冊は独立した CreativeWork として成立する必要があるため、省略不可（MUST NOT omit）。**

* **00番と各Volは、identifier／name／description を巻ごとに固有の値へ設定しなければならない（MUST）。**

* **改訂履歴は 00番専用とし、Vol側の Front Matter に含めてはならない（MUST NOT）。**

* 分冊（Volume）は **実ファイルとして作成する（MUST）**。

* 分冊番号は **00 から始まる 2 桁整数**（00, 01, 02…）。

* 番号は **タイトルの末尾に付与する**（本方式の最大特徴）。

* **00番ファイルは総合編（Index）** とし、本文を持たない（MUST）。

* Vol01 以降は本文のみを持ち、参照文書・改訂履歴を記載しない（MUST NOT）。

* Volume 構造は **任意項目（optional）** である。

* 行数基準は従来通り **200行推奨（SHOULD）／300行上限（MUST）** を適用。

---

## 2. 末尾番号方式のファイル名規則（Naming Convention）

### 2.1 基本フォーマット

```
{Prefix}{4桁番号}-{カテゴリ3}-{文書4}-{タイトル}-{Vol番号2桁}.md
```

**例：G0100-STD-DOC0-FormatPolicy-01.md**

### 2.2 定義

* Prefix：`G`（汎用） or `P`（プロジェクト）
* Title：ASCII英字＋ハイフン、UpperCamelCase 推奨
* Vol番号：00＝総合編、01〜＝本編

### 2.3 非分割文書（番号なし）

```
G0300-ARC-DES0-ApiDesign.md
```

→ Vol番号を持たず単一で完結する（MUST）。

### 2.4 Volファイルの `name` 表記方式（正式採用 / MUST）

```
{日本語正式タイトル} 第N巻（第X,Y,Z章）
```

例：

* ドキュメント書式標準 第1巻（第1,2,3章）
* ドキュメント書式標準 第2巻（第4,5,6章）
* ドキュメント書式標準 第3巻（附録A）

仕様要点：

* 章は **列挙形式（第1,2,3章）** を用いる（MUST）。
* 附録は `附録A` の形式で列挙可能。
* `name` には英数字略号（c1–c3 など）を使用しない（MUST NOT）。

---

## 3. ファイル名例（G0100-STD-DOC0-FormatPolicy）

```
G0100-STD-DOC0-FormatPolicy-00.md
G0100-STD-DOC0-FormatPolicy-01.md
G0100-STD-DOC0-FormatPolicy-02.md
G0100-STD-DOC0-FormatPolicy-03.md
```

---

## 4. 00番ファイル（総合編 / Index）の役割

* Front Matter（CreativeWork 9キー）
* H1タイトル
* **Vol → 章 → 節** の3階層目次
* 参照文書
* 改訂履歴
* 本文を保持しない（MUST NOT）

---

## 5. Vol01 以降の構造

* Front Matter（CreativeWork 9キー）
* Volタイトル（H1）
* 収録章一覧
* 本文（該当章）
* 改訂履歴・参照文書は含めない（MUST NOT）

---

## 6. 分割基準（行数＋トークン数の二重基準 / 新基準）

Volume 方式を適用するかどうかは、**行数基準とトークン基準の両方**により判断する。

### 6.1 行数基準（従来基準）

* 標準：200行（SHOULD）
* 上限：300行（MUST）
* 章途中での分割は禁止（MUST NOT）。
* コードはクラス／関数単位に従う。

### 6.2 トークン基準（新設 / MUST）

* **最大トークン数：3000 tokens（MUST）**
* 3000 tokens を超える文書は、行数基準に関わらず Volume 方式を適用する（MUST）。

背景：Markdown 文書は構造密度が高く、LLM による内部圧縮（context compression）が 4000〜5000 tokens 付近で発動するため、3000 tokens 以下が最も安定する。

---

## 7. 分割レベル（統一基準）

Volume 分割の判断基準は、すべての文書に対して **単一の統一レベル（Unified Level）** を適用する。本基準は、ChatGPT などの大規模言語モデルによる編集や再構成を安定して行うための最適な上限値として策定する。

### 統一レベル（Unified Level）

| レベル名 | 上限トークン数 | 上限行数 | 適用対象 |
|----------|----------------|----------|-----------|
| **Unified** | **3000 tokens** | **220 行** | すべての標準文書に適用する唯一の基準 |

### 運用方針
* 行数・トークン数のいずれか一方でも基準を超えた場合、Volume 分割を適用する（MUST）。
* 本基準は追加改訂、長期運用、LLM による編集安定性を確保するための最適範囲として定義する。

----------|----------------|----------|-----------|
| **Unified** | **3000 tokens** | **220 行** | すべての標準文書に適用（唯一の分割基準） |

### 運用方針
* 行数・トークン数のいずれか一方でも基準を超えた場合、Volume 分割を適用する（MUST）。
* 本基準は追加改訂、長期運用、LLM による反復編集を考慮した **安全余裕を含む標準しきい値** として扱う（Rationale）。
* 
----------|----------------|----------|------|
| **Unified** | **3000 tokens** | **220 行** | 全文書に適用する唯一のレベル（最も安全） |

### 運用方針
* 本基準はすべての標準文書に共通して適用する（MUST）。
* 行数・トークン数のどちらか一方でも上限を超えた場合、Volume 分割を適用する（MUST）。
* 長期運用・追加改訂・ChatGPT による反復編集を考慮し、余裕を確保した設定とする（Rationale）。

---

## 8.. 分割の決定手順（改訂）

1. 行数が 200 行を超えた場合、分冊を検討する（SHOULD）。
2. 行数が 300 行を超えた場合、分冊を適用する（MUST）。
3. **トークン数が 3000 tokens を超えた場合、行数に依らず分冊を適用する（MUST）。**
4. レベル運用（L1/L2/L3）を選択した場合は、その上限に従う。

---

## 9. 末尾番号方式のメリット

* **非分割文書との整合性が高い（最大の利点）**
* 読み手に自然なタイトル体系
* Vol構造の後付け追加が容易
* ソート順が安定し揺らぎがない
* シリーズとしての一体感が高い

---

## 10. 分割不要文書の扱い

* 行数基準およびトークン基準の双方が基準内であれば、単一ファイルで完結する（MUST）。
* Vol番号は付けない（MUST）。
* 00番ファイルも不要である（MUST）。
* 将来分冊が必要になった場合のみ Volume 方式へ移行可能である（SHOULD）。
